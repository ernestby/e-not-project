<template>
  <div class="file">
    <div class="file__top">
      <Suptitle text="Файлы для загрузки" />
      <label for="file">
        <input id="file" type="file" />
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M14 13H13V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V13H10C9.73478 13 9.48043 13.1054 9.29289 13.2929C9.10536 13.4804 9 13.7348 9 14C9 14.2652 9.10536 14.5196 9.29289 14.7071C9.48043 14.8946 9.73478 15 10 15H11V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V15H14C14.2652 15 14.5196 14.8946 14.7071 14.7071C14.8946 14.5196 15 14.2652 15 14C15 13.7348 14.8946 13.4804 14.7071 13.2929C14.5196 13.1054 14.2652 13 14 13Z"
            fill="#1BAA75"
          />
          <path
            d="M19.5 7.05019H12.5L9.87 3.87019C9.77695 3.75547 9.65964 3.6628 9.5265 3.59882C9.39336 3.53485 9.24771 3.50116 9.1 3.50019H4.5C3.84661 3.49216 3.21666 3.74338 2.7481 4.19883C2.27953 4.65427 2.01053 5.27683 2 5.93019V18.0702C2.01053 18.7235 2.27953 19.3461 2.7481 19.8015C3.21666 20.257 3.84661 20.5082 4.5 20.5002H19.5C20.1534 20.5082 20.7833 20.257 21.2519 19.8015C21.7205 19.3461 21.9895 18.7235 22 18.0702V9.48019C21.9895 8.82683 21.7205 8.20427 21.2519 7.74883C20.7833 7.29338 20.1534 7.04217 19.5 7.05019ZM20 18.0502C19.9962 18.1115 19.9802 18.1715 19.9529 18.2266C19.9255 18.2817 19.8874 18.3307 19.8408 18.3708C19.7942 18.4109 19.74 18.4412 19.6815 18.46C19.6229 18.4788 19.5612 18.4856 19.5 18.4802H4.5C4.43876 18.4856 4.37706 18.4788 4.31852 18.46C4.25998 18.4412 4.20581 18.4109 4.1592 18.3708C4.11259 18.3307 4.07448 18.2817 4.04714 18.2266C4.0198 18.1715 4.00377 18.1115 4 18.0502V5.93019C4.00377 5.86882 4.0198 5.80884 4.04714 5.75378C4.07448 5.69871 4.11259 5.64969 4.1592 5.6096C4.20581 5.56952 4.25998 5.53918 4.31852 5.52039C4.37706 5.50159 4.43876 5.49472 4.5 5.50019H8.63L11.23 8.68019C11.3231 8.7949 11.4404 8.88757 11.5735 8.95155C11.7066 9.01552 11.8523 9.04921 12 9.05019H19.5C19.5612 9.04473 19.6229 9.05159 19.6815 9.07039C19.74 9.08918 19.7942 9.11952 19.8408 9.1596C19.8874 9.19969 19.9255 9.24871 19.9529 9.30378C19.9802 9.35884 19.9962 9.41882 20 9.48019V18.0502Z"
            fill="#1BAA75"
          />
        </svg>
        Выбрать из моих файлов
      </label>
    </div>
    <div v-for="item in items" :key="item.id" class="file__wrapper">
      <div class="file__input">
        <input type="text" placeholder="Выберите файл" multiple v-model="item.value" />
        <label for="file" class="svg">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M12 22.0002C10.4491 22.0379 8.94653 21.459 7.82179 20.3905C6.69705 19.322 6.0419 17.851 6 16.3002V6.13024C6.02883 5.00914 6.50064 3.94513 7.31216 3.1711C8.12368 2.39707 9.20879 1.97606 10.33 2.00024C11.4529 1.97338 12.5406 2.39318 13.3543 3.1675C14.168 3.94182 14.6412 5.00737 14.67 6.13024V16.3102C14.6284 16.9888 14.3295 17.626 13.8343 18.0918C13.3391 18.5576 12.6849 18.8169 12.005 18.8169C11.3251 18.8169 10.6709 18.5576 10.1757 18.0918C9.68047 17.626 9.38159 16.9888 9.34 16.3102V6.92024C9.34 6.65502 9.44536 6.40067 9.63289 6.21313C9.82043 6.02559 10.0748 5.92024 10.34 5.92024C10.6052 5.92024 10.8596 6.02559 11.0471 6.21313C11.2346 6.40067 11.34 6.65502 11.34 6.92024V16.3102C11.3599 16.4726 11.4386 16.622 11.5611 16.7304C11.6836 16.8387 11.8415 16.8985 12.005 16.8985C12.1685 16.8985 12.3264 16.8387 12.4489 16.7304C12.5714 16.622 12.6501 16.4726 12.67 16.3102V6.13024C12.6389 5.53865 12.3758 4.98319 11.9377 4.58441C11.4996 4.18564 10.9219 3.97572 10.33 4.00024C9.73979 3.97842 9.16467 4.18954 8.72876 4.58804C8.29285 4.98653 8.0311 5.54045 8 6.13024V16.3002C8.04163 17.3207 8.48597 18.283 9.23569 18.9765C9.98541 19.67 10.9794 20.0381 12 20.0002C13.0206 20.0381 14.0146 19.67 14.7643 18.9765C15.514 18.283 15.9584 17.3207 16 16.3002V6.13024C16 5.86502 16.1054 5.61067 16.2929 5.42313C16.4804 5.23559 16.7348 5.13024 17 5.13024C17.2652 5.13024 17.5196 5.23559 17.7071 5.42313C17.8946 5.61067 18 5.86502 18 6.13024V16.3002C17.9581 17.851 17.303 19.322 16.1782 20.3905C15.0535 21.459 13.5509 22.0379 12 22.0002Z"
              fill="white"
            />
          </svg>
        </label>
      </div>
      <Plus v-if="item.id === currentPlus" @click="handleClickPlus" />
      <Minus v-else @click="handleClickMinus(item.id)" />
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import Plus from '@/components/Info/Btn/Plus.vue'
import Minus from '@/components/Info/Btn/Minus.vue'
import Suptitle from '@/components/Info/Suptitle.vue'

const items = ref([
  {
    id: 0,
    value: '',
  },
])

const currentPlus = ref(items.value[items.value.length - 1].id)

const handleClickPlus = () => {
    currentPlus.value++

    const item = {
        id: currentPlus.value,
        value: ''
    }

    items.value.push(item);

    console.log(items.value);
}

const handleClickMinus = (id) => {
    items.value = items.value.filter(item => item.id !== id);
}
</script>

<style lang="scss">
.file {
  &__top {
    display: flex;
    justify-content: space-between;
    margin-bottom: 16px;

    label {
      display: flex;
      align-items: center;
      font-weight: 600;
      font-size: 16px;
      color: #1baa75;
      gap: 7px;

      input {
        display: none;
      }
    }
  }

  &__wrapper {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
  }

  svg {
    cursor: pointer;
  }

  &__input {
    display: flex;
    justify-content: space-between;
    font-weight: 400;
    font-size: 14px;
    color: #bdbdbd;
    flex: 1;

    .svg {
      width: 70px;
      background: #1baa75;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    input {
      flex: 1;
      display: block;
      background: #ffffff;
      padding: 14px 15px;
      border: 1px solid #cdcdcd;
    }
  }
}
</style>
